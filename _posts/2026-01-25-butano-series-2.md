---
layout: post
chapter-header: Chapter 2
super-title: Butano Series
title: Sprites
slug: butano-series-2
date: 2026-01-21
categories: ["media", "game boy", "gameboy", "gba", "game boy advance", "gamedev", "butano", "game dev"]
align: left
wider: true
excerpt: In this chapter, we will explore how to create and import sprites into Butano, and how to use them in our game.
---

<center>
  <a href="https://buymeacoffee.com/breadcodes" target="_blank">
    <img src="/assets/buymeacoffee.png" alt="Buy Me A Coffee" style="width: 200px;" />
  </a>
</center>

### Assets in Aseprite

My program of choice for creating pixel art is [Aseprite](https://www.aseprite.org/). It is a fantastic tool with a lot of features specifically geared towards pixel art and animation. If you don't have it yet, you can purchase it from the official website or from [Steam](https://store.steampowered.com/app/431730/Aseprite/).

In the root of the repository, you will find the file `raw-assets/klotski_blocks.aseprite` which contains the sprite we will be using in this chapter. You can open this file in Aseprite to view and edit the sprite.

### Adding the Sprite to Our Project

Butano expects a specific Bitamp format and a JSON metadata file for each sprite to be added to the `graphics/` directory of the project. However, I have provided a Python script to automate the conversion process from a PNG sprite sheet to the required format, with the necessary metadata.

You can add your PNG sprite sheet to the `sprites/` directory of your chapter, and any time you run `make` in the terminal, the script will automatically convert the PNG to the required format and place it in the `graphics/` directory, which then can be used in the Butano project.

To add the sprite to our project, follow these steps:

1. Open the Klotski Blocks Aseprite file located at `raw-assets/klotski_blocks.aseprite`
2. You will see multiple frames in the timeline at the bottom. Each frame represents a different block in the Klotski puzzle.
3. You can export as a Sprite Sheet by going to `File > Export Sprite Sheet`, or using the shortcut `Ctrl + E` (or `Cmd + E` on Mac).
4. In the Export Sprite Sheet dialog, set the following options:
   - Layout
     - Sheet Type: By Columns (this is important because all sprites ***must*** be 1 tile wide and any number of rows tall)
     - Constraints: None
   - Output
     - File: `<chapter-directory>/sprites/klotski_blocks.png`
       - replace `<chapter-directory>` with the actual path to your chapter directory
       - Make sure to set the file extension to `.png`
       - Do not include any spaces or special characters in the file name. Only use letters and underscores (or numbers, as long as the file name does not start with a number).
   - Click Export to generate the sprite sheet.
5. Now, when you run `make` in the terminal while in your chapter directory, the script will convert the PNG sprite sheet to the required Butano format and place it in the `graphics/` directory. This also makes your sprite available for use in the Butano project.

### Using the Sprite in Butano

Now that we have our sprite in the correct format, we can use it in our Butano project!

It is time to open your code editor (IDE) of choice. In your IDE, open the folder of your chapter (e.g., `chapter-1-getting-started/` if you are following along, or `chapter-2-sprites/` for referencing this chapter's code). You should now see the hierarchy of the project in your IDE's file explorer.

#### Visual Studio Code

![VS Code Explorer](/assets/butano/chapter-2/vscode.png)

#### Zed Editor

![Zed Editor Explorer](/assets/butano/chapter-2/zed.png)

#### Adding the Sprite to main.cpp

You will find the `main.cpp` file in the `src/` directory of your chapter. For now, this is where we will be adding our code to use the sprite. In later chapters, the `main.cpp` file will act as an entrypoint rather than a master file with all our code, but for now, it is fine to keep everything here.

Before we move on, make sure you've run `make` in the terminal to ensure that the sprite has been converted and is available to Butano. You can confirm the Bitmap and JSON files exist in the `graphics/` directory of your chapter. If not, please revisit the previous section to ensure the sprite was exported and converted correctly.

In `main.cpp`, we will need to import the sprite header file generated by Butano. At the top of the file, add the following include statement:

```cpp
#include "bn_sprite_items_klotski_blocks.h"
```

This gives us access to the sprite data in this file. Inside the `main()` function, after the `bn::core::init();` line, add the following code:

```cpp
bn::sprite_item block_sprite_item = bn::sprite_items::klotski_blocks;
```

If your editor is configured correctly with the C++ language server, you should see an error here (see [Chapter 1.1](/series/butano/1.1#i-don-t-see-error-squiggles-or-intellisense-in-my-c---files) for the editor FAQ). The error is saying that `bn::sprite_item` is an incomplete type. This is because we need to include the appropriate Butano header file for sprites. At the top of the file, add the following include statement:

```cpp
#include "bn_sprite_item.h"
```

This will resolve the error! You'll notice this pattern a lot if you are new to writing code. Whenever you see an error about an incomplete type, it usually means you need to include the appropriate header file for that type.

Now, we can create a sprite instance using the sprite item we just created. Below the line where we created the `block_sprite_item`, add the following code:

```cpp
bn::sprite_ptr block_sprite = bn::sprite_items::klotski_blocks.create_sprite(0, 0);
```

Oh no! Another error! We know what to do here. We need to include the header file for `bn::sprite_ptr`. Add the following include statement in the usual place at the top of the file:

```cpp
#include "bn_sprite_ptr.h"
```

At this point, we now have a pointer (aka `ptr`) which points to the sprite we created, using our Klotski blocks sprite item. The `create_sprite(0, 0)` function creates the sprite at the coordinates (0, 0) on the screen. In Butano, the origin (0, 0) is at the center of the screen. This is typical for graphics programming. The top left is (-120, -80) and the bottom right is (120, 80) for the GBA's 240x160 resolution.

You should now be able to build and then run your code!

```bash
make
make run
```

You should now see one of the Klotski blocks in the center of the screen!

## Chapter Overview

###### ButanoSeriesNav "2","2"

---
---

{{_posts/components/gba-communities.md}}

---

## Support the Series

<center>
  <a href="https://buymeacoffee.com/breadcodes" target="_blank">
    <img src="/assets/buymeacoffee.png" alt="Buy Me A Coffee" style="width: 200px;" />
  </a>
</center>

---

{{_posts/components/butano-series-license.md}}
